# Инструкция по использованию FinanceFlow

## Рис 1. Страница авторизации

Для авторизации пользователь вводит необходимые данные: email и пароль. Если у пользователя еще нет аккаунта, необходимо нажать на текстовую надпись "Нет аккаунта? Зарегистрироваться" для перехода на страницу регистрации.

Если пользователь забыл пароль, то необходимо использовать функцию восстановления пароля через Firebase (кнопка "Забыли пароль?"), которая отправит письмо с инструкциями на указанный email.

## Рис 2. Страница регистрации

При регистрации пользователь должен заполнить все обязательные поля:
- **Имя** — ваше имя для отображения в приложении
- **Email** — адрес электронной почты (будет использоваться для входа)
- **Пароль** — надежный пароль для защиты аккаунта

После заполнения всех полей необходимо нажать на кнопку "Зарегистрироваться" для успешной регистрации в приложении FinanceFlow.

**Важно:** Email "admin@test.com" автоматически получает права администратора.

При возникновении ошибок при регистрации следует проверить:
- Корректность формата email
- Длину пароля (минимум 6 символов)
- Уникальность email (если аккаунт уже существует)

## Рис 3. Главная страница приложения

В данном окне для пользователя предоставляется возможность:

**Просмотр баланса:**
- В верхней части экрана отображается текущий баланс (доходы минус расходы)
- Зеленый цвет означает положительный баланс, красный — отрицательный

**Просмотр доходов и расходов:**
- Две карточки показывают общую сумму доходов и расходов
- Данные обновляются автоматически при добавлении новых транзакций

**Последние операции:**
- Отображаются последние 5 транзакций
- При нажатии на транзакцию происходит переход на экран всех операций
- Каждая транзакция показывает сумму, описание и дату

**Активные финансовые цели:**
- Отображаются первые 3 активные финансовые цели
- Показывается прогресс достижения цели в процентах
- При нажатии на цель происходит переход на экран финансовых целей

**Добавление операции:**
- В правом нижнем углу находится кнопка с иконкой "+" (FAB)
- При нажатии открывается экран добавления транзакции

**Навигация:**
- В нижней части экрана находится навигационная панель
- Доступны разделы: Главная, Операции, Статистика, Категории, Цели
- Навигационная панель всегда видна на всех основных экранах

**Доступ к профилю:**
- В правом верхнем углу находится иконка профиля
- При нажатии открывается экран профиля

**Админ-панель (для администраторов):**
- Для пользователей с правами администратора внизу главного экрана отображается кнопка "Админ-панель"

## Рис 4. Экран добавления транзакции

Для добавления новой транзакции пользователю необходимо:

1. **Выбрать тип операции:**
   - Нажать на кнопку "Доход" или "Расход"
   - Выбранный тип будет подсвечен

2. **Ввести сумму:**
   - В поле "Сумма" ввести числовое значение
   - Используется десятичный разделитель (точка или запятая)

3. **Выбрать категорию:**
   - После выбора типа операции появятся доступные категории
   - Нажать на нужную категорию (отобразится как выбранная)
   - Категории разделены на доходы и расходы

4. **Добавить описание (опционально):**
   - В поле "Описание" можно ввести дополнительную информацию о транзакции

5. **Сохранить транзакцию:**
   - Нажать на кнопку "Сохранить" внизу экрана
   - Транзакция будет добавлена и синхронизирована с облаком

**Важно:** Все поля, кроме описания, являются обязательными для заполнения.

## Рис 5. Экран операций

На данном экране отображается полный список всех транзакций пользователя.

**Просмотр транзакций:**
- Все транзакции отсортированы по дате (новые сверху)
- Доходы отображаются с зеленым знаком "+", расходы с красным знаком "-"
- Каждая транзакция показывает: описание, дату и сумму

**Удаление транзакции:**
- При долгом нажатии на транзакцию можно удалить ее
- Удаление происходит с подтверждением

**Навигация:**
- Кнопка "Назад" в верхнем левом углу возвращает на главный экран
- Навигационная панель внизу позволяет быстро перейти в другие разделы

## Рис 6. Экран статистики

Данная вкладка показывает детальную статистику по финансам пользователя.

**Выбор периода:**
- В верхней части экрана находятся кнопки выбора периода
- Доступны периоды: Неделя, Месяц, Год
- При выборе периода статистика автоматически пересчитывается

**Общая статистика:**
- Отображается общая сумма доходов за выбранный период
- Отображается общая сумма расходов за выбранный период
- Показывается итоговый баланс (доходы минус расходы)

**Расходы по категориям:**
- Внизу экрана отображается список категорий с суммами расходов
- Категории отсортированы по убыванию суммы
- Отображаются названия категорий (не ID)

**Навигация:**
- Навигационная панель внизу позволяет перейти в другие разделы

## Рис 7. Экран категорий

На данном экране пользователь может управлять категориями для транзакций.

**Просмотр категорий:**
- Отображаются все доступные категории (системные и пользовательские)
- Системные категории помечены как "Системная"
- Каждая категория показывает название и тип (Доход/Расход)

**Добавление категории:**
- Нажать на кнопку "+" в правом верхнем углу
- В открывшемся диалоге ввести название категории
- Выбрать тип: "Доход" или "Расход"
- Нажать "Добавить"
- Категория будет доступна при добавлении транзакций

**Удаление категории:**
- Пользовательские категории можно удалить (кнопка корзины)
- При нажатии появится диалог подтверждения удаления
- После подтверждения категория будет удалена
- **Важно:** Системные категории удалить нельзя

**Навигация:**
- Навигационная панель внизу позволяет перейти в другие разделы

## Рис 8. Экран финансовых целей

На данном экране пользователь может создавать и отслеживать финансовые цели.

**Просмотр целей:**
- Отображаются все созданные финансовые цели
- Каждая цель показывает:
  - Название цели
  - Текущую сумму и целевую сумму
  - Прогресс-бар с процентом выполнения
  - Срок выполнения
  - Описание (если указано)
- Завершенные цели выделены цветом

**Добавление цели:**
1. Нажать на кнопку "+" в правом верхнем углу
2. В открывшемся диалоге заполнить:
   - **Название цели** — краткое описание цели
   - **Целевая сумма** — сумма, которую нужно накопить
   - **Срок** — нажать "Выбрать дату" и выбрать дату в календаре
   - **Описание** (опционально) — дополнительная информация
3. Нажать "Добавить"
4. Цель появится в списке

**Пополнение цели:**
1. Нажать на кнопку "Пополнить" под нужной целью
2. В открывшемся диалоге ввести сумму для добавления
3. Нажать "Добавить"
4. Текущая сумма цели увеличится
5. При достижении целевой суммы цель автоматически отметится как завершенная

**Удаление цели:**
1. Нажать на кнопку "Удалить" под нужной целью
2. В открывшемся диалоге подтвердить удаление
3. Цель будет удалена без возможности восстановления

**Навигация:**
- Навигационная панель внизу позволяет перейти в другие разделы

## Рис 9. Экран профиля

На вкладке профиль пользователю предоставляется возможность:

**Просмотр данных:**
- Отображается имя пользователя
- Отображается email пользователя
- Показывается роль (Пользователь/Администратор)

**Настройка PIN-кода:**
- Пользователь может установить PIN-код для дополнительной защиты
- PIN-код будет запрашиваться при входе в приложение

**Биометрическая аутентификация:**
- Пользователь может включить/выключить использование FaceID/TouchID
- При включении вход в приложение будет возможен через биометрию

**Выход из аккаунта:**
- Нажать на кнопку "Выйти из аккаунта"
- Пользователь будет разлогинен и вернется на экран авторизации
- Локальные данные останутся на устройстве

**Админ-панель (для администраторов):**
- Для пользователей с правами администратора отображается кнопка "Админ-панель"
- При нажатии открывается панель управления

## Рис 10. Админ-панель (для администраторов)

Админ-панель доступна только пользователям с правами администратора.

**Вкладка "Пользователи":**
- Отображается список всех зарегистрированных пользователей
- Для каждого пользователя показывается:
  - Имя и email
  - Роль (Пользователь/Администратор)
  - Статус блокировки (если заблокирован, отображается бейдж "Заблокирован")

**Управление пользователями:**
- **Блокировка/разблокировка:** Нажать на иконку замка
  - Заблокированные пользователи не смогут войти в приложение
  - При блокировке/разблокировке появляется уведомление снизу
- **Сброс пароля:** Нажать на иконку сброса пароля
  - Пользователю будет отправлено письмо с инструкциями по восстановлению пароля
  - Появляется уведомление "Отправлен сброс пароля"
- **Удаление пользователя:** Нажать на иконку корзины
  - Появится диалог подтверждения удаления
  - После подтверждения пользователь и все его данные будут удалены
  - Появляется уведомление "Пользователь удален"

**Вкладка "Категории":**
- Отображаются все системные категории, созданные администратором
- Для каждой категории показывается название и тип (Доход/Расход)

**Управление системными категориями:**
- **Добавление категории:**
  1. Нажать на кнопку "+" в правом верхнем углу
  2. Ввести название категории
  3. Выбрать тип (Доход/Расход)
  4. Нажать "Добавить"
  5. Появляется уведомление "Категория добавлена"
- **Редактирование категории:**
  1. Нажать на иконку редактирования (карандаш)
  2. В открывшемся диалоге изменить название или тип
  3. Нажать "Сохранить"
  4. Появляется уведомление "Категория обновлена"
- **Удаление категории:**
  1. Нажать на иконку удаления (корзина)
  2. В диалоге подтверждения нажать "Удалить"
  3. Появляется уведомление "Категория удалена"

**Вкладка "Статистика":**
- Отображается агрегированная статистика по всем пользователям:
  - Всего пользователей
  - Активных пользователей
  - Операций за неделю
  - Пользователей с более чем 5 операциями (в процентах)
  - Самая популярная категория расходов
  - Среднее количество операций на пользователя

**Уведомления:**
- Все действия администратора сопровождаются уведомлениями снизу экрана
- Уведомления отображаются на русском языке
- При входе в админ-панель появляется уведомление "Админ-панель открыта"

## Дополнительные функции

### Офлайн-режим

FinanceFlow работает без подключения к интернету:
- Все данные сохраняются локально в зашифрованной базе данных
- При добавлении транзакций, категорий или целей они сохраняются локально
- При появлении интернета данные автоматически синхронизируются с облаком
- Синхронизация происходит в фоновом режиме

### Синхронизация данных

- Все данные автоматически синхронизируются с Firebase
- Изменения на одном устройстве отображаются на других устройствах
- Резервное копирование данных в облако происходит автоматически

### Безопасность

- Локальная база данных зашифрована
- PIN-код обеспечивает дополнительную защиту
- Биометрическая аутентификация (FaceID/TouchID) для быстрого и безопасного входа
- Все соединения с сервером защищены через HTTPS

### Обработка ошибок

- Приложение не крашится при ошибках
- Все ошибки обрабатываются корректно
- Пользователю показываются понятные сообщения на русском языке
- При проблемах с сетью данные сохраняются локально

## Советы по использованию

1. **Регулярно добавляйте транзакции** — это поможет точнее отслеживать финансы
2. **Используйте категории** — создавайте свои категории для удобной классификации
3. **Ставьте финансовые цели** — это мотивирует копить и контролировать расходы
4. **Проверяйте статистику** — анализируйте свои траты по категориям и периодам
5. **Используйте PIN-код** — защитите свои финансовые данные
6. **Синхронизируйте данные** — убедитесь, что включена синхронизация для резервного копирования

## Решение проблем

**Не могу войти в аккаунт:**
- Проверьте правильность email и пароля
- Используйте функцию восстановления пароля
- Убедитесь, что аккаунт не заблокирован администратором

**Данные не синхронизируются:**
- Проверьте подключение к интернету
- Убедитесь, что включена синхронизация в настройках
- Перезапустите приложение

**Приложение не открывается:**
- Перезагрузите устройство
- Переустановите приложение (данные сохранятся в облаке)
- Обратитесь в техническую поддержку

**Не могу добавить транзакцию:**
- Проверьте, что выбран тип операции (Доход/Расход)
- Убедитесь, что выбрана категория
- Проверьте, что сумма введена корректно

---

**Версия инструкции:** 1.0  
**Дата создания:** 2025  
**Приложение:** FinanceFlow




